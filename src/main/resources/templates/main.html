<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IrányítOM</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link href="/webjars/bootstrap/3.3.7-1/css/bootstrap.min.css" rel="stylesheet"/>
</head>

<body class="container" style="background: dimgray">
<div class="col-lg-12" style="display: inline-block; margin-bottom: 30px">
    <div class="col-lg-3"></div>
    <a class="col-lg-2 btn btn-warning text-center" href="/todo/add">Add new todo</a>
    <div class="col-lg-5"></div>
</div>
<div class="col-lg-12" style="margin-bottom: 30px">
    <form method="post" action="/todo/search">
        <input type="text" name="search" placeholder="...type keyword">
        <button type="submit">search</button>
    </form>
</div>
<table class="table table-hover table-striped col-lg-12">
    <tr>
        <th>ID</th>
        <th>TITLE</th>
        <th>OWNER</th>
        <th>PROJECT</th>
        <th>CONTEXT</th>
        <th>DUE DATE</th>
        <th>PRIORITY</th>
        <th>STATUS</th>
        <th></th>
        <th></th>
        <th></th>
    </tr>
    <tr th:each="todo : ${todos}">
        <td class="col-lg-1 text-center"
            th:text="${todo.getId()}"></td>
        <td class="col-lg-2">
            <a style="color: black"
               th:href="@{|/todo/${todo.getId()}/details|}"
               th:text="${todo.getTitle()}"
               th:title="${todo.getDescription()}"
            >
            </a></td>
        <td class="col-lg-1">
            <a style="color: black"
               th:href="@{|/owner/${todo.getOwner().getId()}/details|}"
               th:text="${todo.getOwner().getName()}">
            </a></td>
        <td class="col-lg-1"
               th:text="${todo.getProject()}">
        </td>
        <td class="col-lg-1"
            th:text="${todo.getContext()}">
        </td>
        <td class="col-lg-1"
            th:text="${todo.getDisplayDueDate()}">
        </td>
        <td class="col-lg-1"
            th:text="${todo.getPrio()}">
        </td>
        <td class="col-lg-1"
            th:text="${todo.getStatus()}">
        </td>
        <td class="col-lg-1 text-center">
            <a class="btn btn-info" style="background-color: limegreen; border-color: limegreen" th:href="@{|/todo/${todo.getId()}/done|}">Done</a>
        </td>
        <td class="col-lg-1 text-center">
            <a class="btn btn-info" th:href="@{|/todo/${todo.getId()}/edit|}">Edit</a>
        </td>
        <td class="col-lg-1 text-center" data-th-marginheight="0">
            <form action="#" th:action="@{|/todo/${todo.getId()}/delete|}" th:method="delete">
                <input class="btn btn-danger" type="submit" value="Delete">
            </form>
        </td>
    </tr>
</table>
<script src="/webjars/jquery/1.11.1/jquery.min.js"></script>
<script src="/webjars/bootstrap/3.3.7-1/js/bootstrap.min.js"></script>
</body>
</html>