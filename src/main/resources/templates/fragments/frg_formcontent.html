<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<body class="container" style="background: #343a40!important">
<div th:fragment="custom_form_content" class="jumbotron align-content-center">
    <section class="container form-simple align-middle col-md-4">

        <div>
            <label style="color: lightgray" class="col-lg-2" th:text="'Task number: ' + *{getId()}"></label>
        </div>
        <div>
            <label style="color: lightgray; padding:0px 15px" th:text="'Created at: ' + *{getCreationDate()}"></label>
        </div>

        <table>
            <tr>
                <td><label class="col-lg-2" for="title" style="width: 60px; color: lightgray">Title: </label></td>
                <td><input type="text" id="title" th:field="*{title}"></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2" for="description">Description: </label></td>
                <td><textarea id="description" th:field="*{description}"></textarea></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2">Owner: </label></td>
                <!-- th:field does not work with select:
                 https://www.baeldung.com/thymeleaf-select-option -->
                <td><select name=owner>
                    <option th:each="owner : ${owners}"
                            th:text="${owner.getName()}"
                            th:value="${owner.getId()}"
                            th:selected="${todo.getOwner().getName().equals(owner.getName())}">
                    </option>
                </select></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2">Project: </label></td>
                <td><select name="project">
                    <option th:each="project : ${projects}"
                            th:text="${project}"
                            th:value="${project}"
                            th:selected="${todo.getProject().equals(project)}">
                    </option>
                </select></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2">Context: </label></td>
                <td><select name="context">
                    <option th:each="context : ${contexts}"
                            th:text="${context}"
                            th:value="${context}"
                            th:selected="${todo.getContext().equals(context)}">
                    </option>
                </select></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2" for="date">Due date: </label></td>
                <td><input type="date" id="date" th:field="*{dueDate}"
                           placeholder="yyyy.mm.dd." pattern="\d{4}/\d{2}/\d{2}"
                           required></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2">Priority: </label></td>
                <td><select name="prio">
                    <option th:each="priority : ${priorities}"
                            th:text="${priority}"
                            th:value="${priority.name()}"
                            th:selected="${todo.getPrio().equals(priority)}">
                    </option>
                </select></td>
            </tr>
            <tr>
                <td><label style="color: lightgray" class="col-lg-2">Status: </label></td>
                <td><select name="status">
                    <option th:each="status : ${statuses}"
                            th:text="${status}"
                            th:value="${status.name()}"
                            th:selected="${todo.getStatus().equals(status)}">
                    </option>
                </select></td>
            </tr>
        </table>

        <div>
            <input class="col-lg-1 btn btn-warning" style="margin-right: 20px" type="submit" value="Save">
            <a class="col-lg-1 btn btn-warning"
               style="background-color: gray; border-color: gray; text-decoration: none; color: white" th:href="'/'">Cancel</a>
        </div>

    </section>
</div>
</body>
</html>